<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>透明背景 html2canvas</title>

  <!-- html2canvas -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    body {
      font-family: sans-serif;
    }

    /* キャプチャ対象 */
    #capture-area {
      display: inline-block;
      padding: 20px;
      /* 背景は指定しない or transparent */
      background: transparent;
    }

    .text {
      font-size: 24px;
      color: #ff3366;
      margin-bottom: 10px;
    }

    img {
      width: 150px;
    }
  </style>
</head>
<body>

  <h1>透明背景でPNGダウンロード</h1>

  <div id="capture-area">
    <div class="text">サンプルテキスト</div>
    <img src="https://via.placeholder.com/150" alt="sample image">
  </div>

  <br><br>
  <button onclick="download()">ダウンロード</button>

  <script>
    function download() {
      const target = document.getElementById("capture-area");

      html2canvas(target, {
        backgroundColor: null, // ★透明背景
        scale: 2               // 解像度アップ（任意）
      }).then(canvas => {
        const link = document.createElement("a");
        link.href = canvas.toDataURL("image/png");
        link.download = "transparent.png";
        link.click();
      });
    }
  </script>

</body>
</html>
